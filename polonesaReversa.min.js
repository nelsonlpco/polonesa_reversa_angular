!function(){"use strict";var a=function(a,b,c){var e="",f=[],g="",h="",i=0,j=function(){e="",f=[],g="",h="",i=0},k=function(a){switch(a){case"(":return 1;case"+":case"-":return 2;case"*":case"/":return 3;case"^":case"%":return 4;default:return 0}},l=function(a){return a>="A"&&"Z">=a},m=function(a){return-1!==["+","-","*","/","^","%"].indexOf(a)},n=function(){var a="A",b="",c=e.split(""),d=0,g=c.length;for(d=0;g>=d;d++)isNaN(c[d])&&"."!==c[d]?""!==b&&(f.push({key:a,valor:b}),b="",a=String.fromCharCode(a.charCodeAt(0)+1)):b+=c[d]},o=function(a){var c=0,d=f.length;for(c=0;d>c;c++)if(a===f[c].key)return f[c].valor;return 0},p=function(){var a="",b=!1,c="A",d=e.split(""),f=0,h=d.length,i="";for(f=0;h>f;f++)i=d[f],isNaN(i)&&"."!=i?(a+=i,b=!1):(b===!1&&(a+=c,c=String.fromCharCode(c.charCodeAt(0)+1)),b=!0);g=a},q=function(){var b=[],c="",d=0,e=g.split(""),f=0,i=e.length,j="";for(f=0;i>f;f++)if(j=e[f],l(j))c+=j;else if(m(j)){for(d=k(j);0!=b.length&&b[b.length-1].prioridade>=d;)c+=b[b.length-1].val,b.pop();b.push({prioridade:d,val:j})}else if("("===j)b.push({prioridade:d,val:j});else if(")"===j)for(var n=b.pop();"("!=n.val;)c+=n.val,n=b.pop();for(;b.length>0;)c+=b.pop().val;h=c},r=function(){var a=[],b=h.split(""),c=0,d=b.length,e="";for(c=0;d>c;c++)if(e=b[c],l(e))a.push(o(e));else if(m(e)){var f=Number(a.pop()),g=Number(a.pop());switch(e){case"+":a.push(f+g);break;case"-":a.push(f-g);break;case"*":a.push(f*g);case"/":a.push(g/f);break;case"^":a.push(Math.pow(f,g));break;case"%":a.push(f/100*g)}}i=a.pop()};b.bind("keydown",function(a){13===a.keyCode&&(e=a.target.value,n(),p(),q(),r(),a.target.value=i,j())})},b=function(){return{restrict:"A",link:a}};angular.module("polonesaReversa",[]).directive("polonesaReversa",b)}();